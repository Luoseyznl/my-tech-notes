### Day 1 多线程编程：线程池

#### 1 线程是什么？
1. 线程是操作系统提供的最小执行单元，是进程中的一个控制流。每个线程拥有自己的栈和程序计数器，但共享进程的内存空间（如全局变量）。

2. 线程池中的线程循环运行，从任务队列中获取任务（某个可调用对象）并执行。

#### 2 线程池的中心思想？
- 线程池通过维护一组与创建的线程来执行任务，避免频繁创建和销毁线程的开销，提高资源利用率。

1. 数据结构：线程数组 `std::vector<std::thread> workers`、任务队列 `std::queue<std::function<void()>> tasks`
2. 同步机制：互斥锁 `std::mutex mutex`、条件变量 `std::condition_variable condition`
3. 管理逻辑：根据负载动态调整线程池，高负载时创建临时线程，低负载时销毁空闲线程。确保线程高效复用，避免线程空闲或任务饥饿。

#### 3 线程池的工作流程？

1. 创建指定数量的线程（核心线程），初始化任务队列，配置参数，设置同步机制用以管理任务分配。
2. 用户提交任务至线程池，线程池分配线程执行任务（动态扩展、动态收缩、等待线程）
1. 关闭线程池，等待现有任务完成（优雅关闭），销毁线程，释放资源

#### 4 关键管理策略

1. 线程数量控制
   - 核心线程数（常驻线程数量）、最大线程数（高负载时允许的线程上限）
   - 动态调整：根据任务负载增加或减少线程（空闲线程回收）。

2. 任务队列策略
   - 有界队列：限制队列大小，防止内存溢出，但可能触发拒绝策略。
   - 无界队列：允许无限任务积累，适合任务突发场景，但需注意内存使用。
   - 优先级队列：按任务优先级调度，适合实时性要求高的场景。

3. 任务调度策略
   - 默认 FIFO 调度（先进先出）
   - 可实现优先级调度、延迟调度（如定时任务）或依赖关系调度
